{% extends 'base.html' %}
{% block content %}
<div class="d-flex gap-4">
  <div>
    {% if profile_user.profile.avatar %}
      <img src="{{ profile_user.profile.avatar.url }}" class="rounded" style="width:160px;height:160px;object-fit:cover;" alt="{{ profile_user.username }}'s avatar">
    {% else %}
      <img src="{% static 'avatar_placeholder.png' %}" class="rounded" style="width:160px;height:160px;" alt="Avatar placeholder">
    {% endif %}
  </div>
  <div>
    <h3>{{ profile_user.username }}</h3>
    <p><strong>Email:</strong> {{ profile_user.email }}</p>
    {% if profile_user.profile.mobile %}<p><strong>Mobile:</strong> {{ profile_user.profile.mobile }}</p>{% endif %}
    {% if profile_user.profile.address %}<p><strong>Address:</strong> {{ profile_user.profile.address }}</p>{% endif %}
    <p><a href="{% url 'home' %}">Back to listings</a></p>
    <h5 class="mt-3">Listings</h5>
    <div class="row">
      {% for pet in profile_user.pets.all %}
        <div class="col-6 col-md-4">
          <a href="{{ pet.get_absolute_url }}" class="text-decoration-none">
            <div class="card mb-2">
              {% if pet.image %}<img src="{{ pet.image.url }}" class="card-img-top" alt="Photo of {{ pet.name }}">{% endif %}
              <div class="card-body">
                <h6 class="card-title mb-0">{{ pet.name }}</h6>
                <small class="text-muted">{{ pet.breed }}</small>
              </div>
            </div>
          </a>
        </div>
      {% empty %}
        <p>No listings yet.</p>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
